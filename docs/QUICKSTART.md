# 次のエージェント向けクイックスタートガイド

**プロジェクト**: 建設DXツール（onestruction）  
**現在のバージョン**: v9.0  
**ステータス**: ✅ 主要機能すべて正常動作中

---

## 🚀 3ステップで開始

### ステップ1: 状況を理解する（5分）

**[handover_report.md](./handover_report.md)を読む**
- 完了した作業: Supabase修正、3Dモデル確認
- 残存課題: 重複コード（優先度: 中）、未使用ファイル（優先度: 低）

### ステップ2: 現状を確認する（3分）

**ブラウザでアクセス**: `http://127.0.0.1:8000/index.html`

**確認項目**:
- ✅ 3Dモデル（Snowdon Towers）が表示されている
- ✅ グリッド線が表示されている
- ✅ スケジュール、付箋が動作する

### ステップ3: 作業開始（推奨）

**main.js内の重複DOMContentLoadedリスナー削除**
- 削除対象: 1154-1181行目、1435-1444行目
- 詳細手順: handover_report.md 参照

---

## ⚠️ 絶対にやってはいけないこと

1. ❌ **Snowdon Towersモデルを削除しない**
   - 場所: `src/bim-viewer.js` 221-257行目
   - ユーザーからの特別指示

2. ❌ **main.js 72-76行目を削除・変更しない**
   - 唯一正しいDOMContentLoaded実装
   - アプリケーション起動の要

3. ❌ **supabase.jsを変更しない**
   - v9.0で完成
   - 正常動作中

---

## 🎯 推奨タスク（優先度順）

### 優先度: 中

**重複DOMContentLoadedリスナー削除**
- ファイル: `src/main.js`
- 削除箇所:
  - 1150-1181行目（コメントに置き換え）
  - 1432-1444行目（コメントに置き換え）
- 所要時間: 10分
- 検証: 127.0.0.1:8000で動作確認

### 優先度: 低

**未使用ファイルの整理**
- `_archive/`フォルダへ移動
- 対象: event-handlers.js, sticky-note-*.js など
- 所要時間: 15分

---

## 🔧 トラブルシューティング

### Q: 画面が真っ白、何も表示されない

**A**: ブラウザキャッシュが原因です
- 解決策1: `Ctrl + Shift + R` でハードリロード
- 解決策2: `127.0.0.1:8000` でアクセス（推奨）
- 解決策3: プライベートモード（Ctrl + Shift + N）

### Q: Snowdon Towersモデルが表示されない

**A**: 以下を確認
1. `src/bim-viewer.js` 221-257行目が削除されていないか
2. ブラウザコンソール（F12）でエラーを確認
3. `createSnowdonMock()`関数が呼ばれているか

---

**作成日**: 2026-01-20 22:25  
**次のステップ**: handover_report.mdを読んで作業開始！
